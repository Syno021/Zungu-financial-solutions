<ion-header [translucent]="true">
  <ion-toolbar class="ion-color-primary">
    <ion-buttons slot="start">
      <ion-button>
        <ion-icon slot="icon-only" name="cash-outline"></ion-icon>
        <img src="assets/logoIcon.png" alt="Zungu Logo">
      </ion-button>
    </ion-buttons>
    <ion-title>
      Zungu Financial Solutions
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="ion-padding">
  <!-- Hero Section -->
  <div class="hero-container zungu-slide-up">
    <h1 class="emerald-accent">Zungu Financial Solutions</h1>
    <h2 class="hero-subtitle">Simple, Fast, Reliable Loan Management</h2>
    <p>Get quick and easy loans after completing your KYC verification. Apply today and receive funds in your account within 24 hours.</p>
    
    <ion-segment value="individual" class="user-type-segment ion-margin-vertical">
      <ion-segment-button value="individual">
        <ion-label>Individual</ion-label>
      </ion-segment-button>
      <ion-segment-button value="business">
        <ion-label>Business</ion-label>
      </ion-segment-button>
      <ion-segment-button value="agent">
        <ion-label>Agent</ion-label>
      </ion-segment-button>
    </ion-segment>
    
    <ion-button class="button-primary ion-margin-bottom" expand="block" (click)="toggleLoginCard()">
      Get Started
      <ion-icon slot="end" name="arrow-forward-outline"></ion-icon>
    </ion-button>
  </div>

  <!-- Quick Actions -->
  <div class="quick-actions ion-margin-vertical zungu-fade-in">
    <ion-card class="action-card emerald-border-left">
      <ion-card-content>
        <ion-icon name="person-add-outline" class="emerald-accent"></ion-icon>
        <div class="action-text">
          <h3>Apply for Loan</h3>
        </div>
      </ion-card-content>
    </ion-card>

    <ion-card class="action-card emerald-border-left">
      <ion-card-content>
        <ion-icon name="document-text-outline" class="emerald-accent"></ion-icon>
        <div class="action-text">
          <h3>Loan History</h3>
        </div>
      </ion-card-content>
    </ion-card>

    <ion-card class="action-card emerald-border-left">
      <ion-card-content>
        <ion-icon name="card-outline" class="emerald-accent"></ion-icon>
        <div class="action-text">
          <h3>Make a Payment</h3>
        </div>
      </ion-card-content>
    </ion-card>

    <ion-card class="action-card emerald-border-left">
      <ion-card-content>
        <ion-icon name="people-outline" class="emerald-accent"></ion-icon>
        <div class="action-text">
          <h3>Refer a Client</h3>
        </div>
      </ion-card-content>
    </ion-card>
  </div>

  <!-- Our Services Section -->
  <div class="features-section ion-margin-top zungu-fade-in">
    <h2 class="section-title emerald-accent">Our Services</h2>

    <ion-card class="feature-card mint-background">
      <ion-card-content>
        <div class="feature-icon-container">
          <ion-icon name="shield-checkmark-outline" class="feature-icon emerald-accent"></ion-icon>
        </div>
        <div class="feature-content">
          <h3>Easy KYC Process</h3>
          <p>Complete your KYC verification in minutes with our streamlined digital process.</p>
        </div>
      </ion-card-content>
    </ion-card>

    <ion-card class="feature-card mint-background">
      <ion-card-content>
        <div class="feature-icon-container">
          <ion-icon name="flash-outline" class="feature-icon emerald-accent"></ion-icon>
        </div>
        <div class="feature-content">
          <h3>Quick Loan Approval</h3>
          <p>Get your loan approved within 24 hours with our advanced processing system.</p>
        </div>
      </ion-card-content>
    </ion-card>

    <ion-card class="feature-card mint-background">
      <ion-card-content>
        <div class="feature-icon-container">
          <ion-icon name="options-outline" class="feature-icon emerald-accent"></ion-icon>
        </div>
        <div class="feature-content">
          <h3>Flexible Repayment</h3>
          <p>Choose a repayment plan that works for you with customizable terms and options.</p>
        </div>
      </ion-card-content>
    </ion-card>
  </div>

  <!-- How It Works Section -->
  <div class="how-it-works-section ion-margin-top zungu-fade-in">
    <h2 class="section-title emerald-accent">How It Works</h2>
    
    <div class="steps-container">
      <ion-card class="step-card mint-background">
        <ion-card-content>
          <div class="step-number">1</div>
          <div class="step-content">
            <h3>Register</h3>
            <p>Create your account in less than 2 minutes</p>
          </div>
          <ion-icon name="person-add-outline" class="step-icon emerald-accent"></ion-icon>
        </ion-card-content>
      </ion-card>

      <ion-card class="step-card mint-background">
        <ion-card-content>
          <div class="step-number">2</div>
          <div class="step-content">
            <h3>Complete KYC</h3>
            <p>Verify your identity with our secure system</p>
          </div>
          <ion-icon name="document-text-outline" class="step-icon emerald-accent"></ion-icon>
        </ion-card-content>
      </ion-card>

      <ion-card class="step-card mint-background">
        <ion-card-content>
          <div class="step-number">3</div>
          <div class="step-content">
            <h3>Apply for Loan</h3>
            <p>Select your loan amount and terms</p>
          </div>
          <ion-icon name="wallet-outline" class="step-icon emerald-accent"></ion-icon>
        </ion-card-content>
      </ion-card>

      <ion-card class="step-card mint-background">
        <ion-card-content>
          <div class="step-number">4</div>
          <div class="step-content">
            <h3>Get Funded</h3>
            <p>Receive money directly in your account</p>
          </div>
          <ion-icon name="cash-outline" class="step-icon emerald-accent"></ion-icon>
        </ion-card-content>
      </ion-card>
    </div>
  </div>


  <!-- Status Section -->
  <ion-card class="status-card ion-margin-top emerald-border-left zungu-fade-in">
    <ion-card-header>
      <ion-card-title>Platform Status</ion-card-title>
      <ion-card-subtitle>All services operational</ion-card-subtitle>
    </ion-card-header>
    <ion-card-content>
      <div class="status-item">
        <div class="status-label">
          <ion-icon name="shield-checkmark-outline" class="status-icon"></ion-icon>
          <span>Security</span>
        </div>
        <ion-badge color="success">Secure</ion-badge>
      </div>

      <div class="status-item">
        <div class="status-label">
          <ion-icon name="server-outline" class="status-icon"></ion-icon>
          <span>Database</span>
        </div>
        <ion-badge color="success">Online</ion-badge>
      </div>

      <div class="status-item">
        <div class="status-label">
          <ion-icon name="cloud-offline-outline" class="status-icon"></ion-icon>
          <span>Offline Mode</span>
        </div>
        <ion-badge color="primary">Available</ion-badge>
      </div>

      <div class="status-item">
        <div class="status-label">
          <ion-icon name="notifications-outline" class="status-icon"></ion-icon>
          <span>Notifications</span>
        </div>
        <ion-badge color="success">Enabled</ion-badge>
      </div>
    </ion-card-content>
  </ion-card>

  <!-- Footer Section -->
  <div class="footer-section ion-margin-top">
    <div class="footer-content">
      <p class="copyright">Â© 2025 Zungu Financial Solutions Management System. All rights reserved.</p>
      <p class="designed-by">Designed by <span class="emerald-accent">SparkDev Studio</span></p>
    </div>
  </div>

  <!-- Login Card (Same structure, relabeled) -->
  <div class="login-card-container" [ngClass]="{'active': showLoginCard}">
    <div class="login-backdrop" (click)="closeLoginCard()"></div>

    <div class="login-card" *ngIf="!showResetCard">
      <div class="login-card-header">
        <h3 class="login-card-title">
          <ion-icon name="log-in-outline" class="login-header-icon"></ion-icon>
          Log in to Zungu
        </h3>
        <button class="login-close-button" (click)="closeLoginCard()">
          <ion-icon name="close-outline"></ion-icon>
        </button>
      </div>
      <div class="login-card-content">
        <div class="user-type-pills">
          <div class="user-type-pill" [ngClass]="{'active': selectedUserType === 'individual'}" >Individual</div>
          <div class="user-type-pill" [ngClass]="{'active': selectedUserType === 'business'}" >Business</div>
          <div class="user-type-pill" [ngClass]="{'active': selectedUserType === 'agent'}" >Agent</div>
        </div>

        <form [formGroup]="loginForm" >
          <div class="form-group">
            <label for="email">Email Address</label>
            <input type="email" id="email" class="form-input" formControlName="email" placeholder="Enter your email">
            <div class="error-message" *ngIf="emailControl?.touched && emailControl?.errors">
              <span *ngIf="emailControl?.errors?.['required']">Email is required</span>
              <span *ngIf="emailControl?.errors?.['email']">Please enter a valid email</span>
            </div>
          </div>

          <div class="form-group">
            <label for="password">Password</label>
            <input type="password" id="password" class="form-input" formControlName="password" placeholder="Enter your password">
            <div class="error-message" *ngIf="passwordControl?.touched && passwordControl?.errors">
              <span *ngIf="passwordControl?.errors?.['required']">Password is required</span>
              <span *ngIf="passwordControl?.errors?.['minlength']">Password must be at least 6 characters</span>
            </div>
          </div>

          <div class="login-options">
            <div class="remember-me">
              <input type="checkbox" id="remember" formControlName="rememberMe">
              <label for="remember">Remember me</label>
            </div>
            <a href="javascript:void(0)" class="forgot-password" >Forgot password?</a>
          </div>

          <button type="submit" class="login-button" [disabled]="isLoading">
            <span *ngIf="!isLoading">Log in</span>
            <ion-spinner *ngIf="isLoading" name="circles" class="button-spinner"></ion-spinner>
            <ion-icon *ngIf="!isLoading" name="log-in-outline" class="button-icon"></ion-icon>
          </button>
        </form>

        <div class="signup-link" routerLink="/register">
          Don't have an account? <a>Sign up</a>
        </div>
      </div>
    </div>

    <!-- Password Reset Card -->
    <div class="login-card" *ngIf="showResetCard">
      <div class="login-card-header">
        <h3 class="login-card-title">
          <ion-icon name="key-outline" class="login-header-icon"></ion-icon>
          Reset Password
        </h3>
        <button class="login-close-button" (click)="closeLoginCard()">
          <ion-icon name="close-outline"></ion-icon>
        </button>
      </div>
      <div class="login-card-content">
        <p class="reset-instructions">Enter your email to receive a password reset link.</p>

        <form [formGroup]="resetPasswordForm" >
          <div class="form-group">
            <label for="reset-email">Email Address</label>
            <input type="email" id="reset-email" class="form-input" formControlName="email" placeholder="Enter your email">
            <div class="error-message" *ngIf="resetEmailControl?.touched && resetEmailControl?.errors">
              <span *ngIf="resetEmailControl?.errors?.['required']">Email is required</span>
              <span *ngIf="resetEmailControl?.errors?.['email']">Please enter a valid email</span>
            </div>
          </div>

          <button type="submit" class="login-button">
            Send Reset Link
            <ion-icon name="send-outline" class="button-icon"></ion-icon>
          </button>

          <button type="button" class="back-button" (click)="toggleResetPassword()">
            <ion-icon name="arrow-back-outline"></ion-icon>
            Back to Login
          </button>
        </form>
      </div>
    </div>
  </div>
</ion-content>